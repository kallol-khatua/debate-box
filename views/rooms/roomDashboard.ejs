<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Debate Box</title>
    <!-- Add Google Font -->
    <link
      href="https://fonts.googleapis.com/css?family=DM+Sans:400,500,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/rooms/roomDashboard.css" />
    <!-- socket io cdn -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.4/socket.io.js"
      integrity="sha512-tE1z+95+lMCGwy+9PnKgUSIeHhvioC9lMlI7rLWU0Ps3XTdjRygLcy4mLuL0JAoK4TLdQEyP0yOl/9dMOqpH/Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>
  <body>
    <div class="app-container">
      <button class="mode-switch">
        <!-- sun icon -->
        <svg
          class="sun"
          fill="none"
          stroke="#fbb046"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          class="feather feather-sun"
          viewBox="0 0 24 24"
        >
          <defs />
          <circle cx="12" cy="12" r="5" />
          <path
            d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"
          />
        </svg>
        <!-- sun icon -->
        <!-- moon icon -->
        <svg
          class="moon"
          fill="none"
          stroke="#ffffff"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          class="feather feather-moon"
          viewBox="0 0 24 24"
        >
          <defs />
          <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
        </svg>
        <!-- moon icon -->
      </button>
      <div class="left-side"></div>

      <div class="app-main">
        <div class="video-call-wrapper" id="videoPlayer">
          <!-- remote user -->

          <!-- local user -->
          <div class="video-participant">
            <p class="name-tag"><%= currUser.username %>(you)</p>
            <video autoplay id="localStream"></video>
          </div>
        </div>

        <div class="video-call-actions">
          <button class="video-action-button mic" id="mute-btn"></button>
          <button
            class="video-action-button camera"
            id="hide-camera-btn"
          ></button>
          <a href="/">
            <button class="video-action-button endcall">Leave</button>
          </a>
        </div>
      </div>

      <!-- Right Side -->
      <div class="right-side">
        <button class="btn-close-right">
          <!-- Close Icon -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            class="feather feather-x-circle"
            viewBox="0 0 24 24"
          >
            <defs></defs>
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M15 9l-6 6M9 9l6 6"></path>
          </svg>
          <!-- Close Icon -->
        </button>
        <div class="chat-container">
          <div class="chat-header">
            <button class="chat-header-button">Live Chat</button>
          </div>
          <div class="chat-area" id="chat-area">
            
          </div>
          <div class="chat-typing-area-wrapper">
            <div class="chat-typing-area">
              <input
                type="text"
                placeholder="Type your message..."
                class="chat-input"
                name="message"
                id="message-field"
              />
              <button class="send-button" onclick="sendChat()">
                <!-- Send icon -->
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-send"
                  viewBox="0 0 24 24"
                >
                  <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" />
                </svg>
                <!-- Send icon -->
              </button>
            </div>
          </div>
        </div>
      </div>
      <button class="expand-btn" id="expand-chat-btn" onclick="showChatArea()">
        <!-- expand icon -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-message-circle"
        >
          <path
            d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"
          />
        </svg>
        <!-- expand icon -->
      </button>
    </div>
    <script src="/js/rooms/roomDashboard.js"></script>
    <script></script>
  </body>
</html>
